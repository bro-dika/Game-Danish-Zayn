<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Danish & Zayn - Game Pasangkan Gambar</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap');
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
    margin: 0; padding: 0;
    text-align: center;
    color: #222;
  }
  header {
    background: #1a73e8;
    padding: 25px 10px;
    color: white;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }
  h1 {
    font-weight: 700;
    font-size: 2.6rem;
    margin: 0 0 5px 0;
    letter-spacing: 1.1px;
    user-select: none;
  }
  p {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 500;
  }
  main {
    max-width: 720px;
    background: #fff;
    margin: 25px auto 40px auto;
    padding: 25px 20px 40px 20px;
    border-radius: 18px;
    box-shadow: 0 16px 30px rgba(0,0,0,0.1);
  }
  select {
    font-size: 1.2rem;
    padding: 10px 14px;
    margin-bottom: 25px;
    border-radius: 12px;
    border: 2px solid #1a73e8;
    font-weight: 600;
    transition: border-color 0.3s ease;
    cursor: pointer;
    width: 240px;
  }
  select:focus {
    outline: none;
    border-color: #4caf50;
    box-shadow: 0 0 8px #4caf50;
  }
  #game-board {
    display: grid;
    grid-template-columns: repeat(4, 90px);
    gap: 20px;
    justify-content: center;
    margin-bottom: 25px;
  }
  .card {
    width: 90px;
    height: 90px;
    background-color: #e0e7ff;
    border-radius: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3.6rem;
    cursor: pointer;
    user-select: none;
    position: relative;
    box-shadow:
      inset 0 0 6px rgba(255,255,255,0.9),
      0 8px 15px rgba(24, 105, 255, 0.25);
    transform-style: preserve-3d;
    transition: transform 0.6s ease, box-shadow 0.3s ease;
  }
  .card.flipped {
    box-shadow: 0 12px 20px rgba(24, 105, 255, 0.6), 0 0 20px #4caf50;
    transform: rotateY(180deg);
    background: #4caf50;
    color: #fff;
  }
  .card.matched {
    background: #388e3c;
    cursor: default;
    color: #fff;
    font-weight: 700;
    box-shadow: 0 0 25px #66bb6a, 0 0 35px #4caf50;
  }
  .card.inactive {
    cursor: default;
  }
  #feedback {
    font-size: 1.4rem;
    height: 36px;
    margin-bottom: 30px;
    font-weight: 600;
    color: #555;
  }
  button {
    background-color: #1a73e8;
    color: white;
    border: none;
    padding: 14px 34px;
    font-size: 1.25rem;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(26, 115, 232, 0.5);
    font-weight: 600;
    transition: background-color 0.35s ease, box-shadow 0.35s ease;
  }
  button:hover, button:focus {
    background-color: #1669c1;
    box-shadow: 0 7px 21px rgba(22, 105, 193, 0.75);
    outline: none;
  }
  @media (max-width: 480px) {
    #game-board {
      grid-template-columns: repeat(3, 90px);
    }
  }
</style>
</head>
<body>
<header>
  <h1>Danish & Zayn</h1>
  <p>Game Pasangkan Gambar - Pilih Tema dan Mainkan!</p>
</header>
<main>
  <label for="theme-select">Pilih Tema:</label><br/>
  <select id="theme-select" aria-label="Pilih tema game">
    <option value="fruits">Buah-Buahan</option>
    <option value="vegetables">Sayuran</option>
    <option value="food">Makanan</option>
    <option value="vehicles">Kendaraan</option>
    <option value="animals">Hewan</option>
  </select>
  <div id="feedback" aria-live="polite"></div>
  <div id="game-board" role="grid" aria-label="Papan permainan pasangkan gambar"></div>
  <button id="restart-btn" aria-label="Mulai ulang game">Mulai Ulang Game</button>
</main>

<audio id="audio-flip" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>
<audio id="audio-correct" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
<audio id="audio-wrong" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg" preload="auto"></audio>
<audio id="audio-celebrate" src="https://actions.google.com/sounds/v1/human_voices/applause_and_cheer.ogg" preload="auto"></audio>

<script>
  const themes = {
    fruits: ['ðŸŽ', 'ðŸŒ', 'ðŸ‰', 'ðŸ', 'ðŸ“', 'ðŸ’', 'ðŸ¥¥', 'ðŸ‡'],
    vegetables: ['ðŸ¥•', 'ðŸŒ½', 'ðŸ¥¦', 'ðŸ†', 'ðŸŒ¶ï¸', 'ðŸ¥’', 'ðŸ¥”', 'ðŸ§„'],
    food: ['ðŸ•', 'ðŸ”', 'ðŸ£', 'ðŸ©', 'ðŸ¦', 'ðŸ¥ª', 'ðŸœ', 'ðŸ°'],
    vehicles: ['ðŸš—', 'âœˆï¸', 'ðŸš€', 'ðŸš²', 'ðŸ›³ï¸', 'ðŸš', 'ðŸšœ', 'ðŸš’'],
    animals: ['ðŸ¶', 'ðŸ±', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¸', 'ðŸ¼', 'ðŸ¨']
  };

  const gameBoard = document.getElementById('game-board');
  const feedback = document.getElementById('feedback');
  const themeSelect = document.getElementById('theme-select');
  const restartBtn = document.getElementById('restart-btn');
  const audioFlip = document.getElementById('audio-flip');
  const audioCorrect = document.getElementById('audio-correct');
  const audioWrong = document.getElementById('audio-wrong');
  const audioCelebrate = document.getElementById('audio-celebrate');

  let firstCard = null;
  let secondCard = null;
  let lockBoard = false;
  let matchesFound = 0;
  const totalPairs = 8;

  function playAudio(audio) {
    audio.currentTime = 0;
    audio.play();
  }

  function shuffle(array) {
    for (let i = array.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i+1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function createCard(symbol) {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.symbol = symbol;
    card.setAttribute('role', 'button');
    card.setAttribute('tabindex', '0');
    card.setAttribute('aria-label', `Kartu gambar ${symbol}`);
    card.textContent = '';
    card.addEventListener('click', () => flipCard(card));
    card.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        flipCard(card);
      }
    });
    return card;
  }

  function flipCard(card) {
    if(lockBoard) return;
    if(card === firstCard) return;

    card.classList.add('flipped');
    card.textContent = card.dataset.symbol;
    playAudio(audioFlip);

    if(!firstCard) {
      firstCard = card;
      return;
    }
    secondCard = card;
    lockBoard = true;

    setTimeout(checkMatch, 1000);
  }

  function checkMatch() {
    if(firstCard.dataset.symbol === secondCard.dataset.symbol) {
      firstCard.classList.add('matched');
      secondCard.classList.add('matched');
      matchesFound++;
      feedback.textContent = `Cocok! Pasangan ke-${matchesFound}`;
      feedback.style.color = 'green';
      playAudio(audioCorrect);

      if(matchesFound === totalPairs) {
        feedback.textContent = "Hebat! Kamu menyelesaikan semua pasangan!";
        feedback.style.color = '#4caf50';
        celebrationEffect();
      }
      resetTurn();
    } else {
      feedback.textContent = 'Yah, tidak cocok! Coba lagi.';
      feedback.style.color = 'red';
      playAudio(audioWrong);
      setTimeout(() => {
        firstCard.classList.remove('flipped');
        firstCard.textContent = '';
        secondCard.classList.remove('flipped');
        secondCard.textContent = '';
        resetTurn();
      }, 1200);
    }
  }

  function resetTurn() {
    [firstCard, secondCard] = [null, null];
    lockBoard = false;
  }

  function startGame() {
    feedback.textContent = '';
    gameBoard.innerHTML = '';
    matchesFound = 0;

    const selectedTheme = themeSelect.value;
    let cardsArray = [...themes[selectedTheme], ...themes[selectedTheme]];
    shuffle(cardsArray);
    cardsArray.forEach(symbol => {
      const card = createCard(symbol);
      gameBoard.appendChild(card);
    });
  }

  function celebrationEffect() {
    playAudio(audioCelebrate);
    // Simple confetti animation with emojis
    const colors = ['ðŸŽ‰', 'âœ¨', 'ðŸŒŸ', 'ðŸŽŠ'];
    const confettiCount = 50;
    for(let i=0; i<confettiCount; i++) {
      const confetti = document.createElement('div');
      confetti.textContent = colors[Math.floor(Math.random()*colors.length)];
      confetti.style.position = 'fixed';
      confetti.style.fontSize = '2.5rem';
      confetti.style.top = Math.random() * window.innerHeight + 'px';
      confetti.style.left = Math.random() * window.innerWidth + 'px';
      confetti.style.opacity = 0.9;
      confetti.style.userSelect = 'none';
      confetti.style.pointerEvents = 'none';
      confetti.style.transition = 'transform 3s ease-out, opacity 3s ease-out';
      document.body.appendChild(confetti);
      setTimeout(() => {
        confetti.style.transform = 'translateY(150px) rotate(360deg)';
        confetti.style.opacity = 0;
      }, 100);
      setTimeout(() => confetti.remove(), 3200);
    }
  }

  themeSelect.addEventListener('change', startGame);
  restartBtn.addEventListener('click', startGame);

  window.onload = startGame;
</script>
</body>
</html>
